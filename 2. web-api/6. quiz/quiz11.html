
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        thead th,
        tbody td {
            border: 1px solid black;
        }
    </style>

</head>
<body>
    
    <h2>이벤트 위임 방식으로 변경해 보세요.</h2>

    <table>
        <thead>
            <th>번호</th>
            <th>제목</th>
            <th>내용</th>
            <th>삭제</th>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>첫글</td>
                <td>hi</td>
                <td><button>삭제</button></td>
            </tr>
            <tr>
                <td>2</td>
                <td>두번째 글</td>
                <td>hi</td>
                <td><button>삭제</button></td>
            </tr>
            <tr>
                <td>3</td>
                <td>세번째 글</td>
                <td>hi</td>
                <td><button>삭제</button></td>
            </tr>
            <tr>
                <td>4</td>
                <td>네번째 글</td>
                <td>hi</td>
                <td><button>삭제</button></td>
            </tr>
        </tbody>
    </table>

    <script>
    /*
	이벤트 전파 방식을 사용해서 
	삭제를 누를 때마다 해당 tr이 지워질 수 있도록 처리해 보세요.
   */


        //const $tr = document.querySelectorAll('tbody > tr');
        const $delete = document.querySelectorAll('button');
        const $table = document.querySelector('table');
        //console.log($tr);
        console.log($delete);
        console.log($table);

        $table.addEventListener('click', function(event){
            if(event.target.matches('button')){
                event.target.parentNode.parentNode.remove();
            }
        });

        



        //쌤풀이
        const $list = document.querySelector('table tbody');
        console.log($list);
       
        $list.addEventListener('click', function(){
            //화살표함수안쓰고 이렇게 작성해봤다.
            //또한 매개변수를 선언하지 않으면 이벤트 객체를 못쓰냐? 아니다.
            //event라는 이름으로 바로 사용이 가능하다.
            //근데 웬만하면 이름을 붙여서 쓰는 게 더 편하다.
            console.log(event.target); //이렇게도 동작이 된다는걸 알아만 두자.


            //아무튼
            //그럼 알려드렸으니 이벤트로써보자
            if(!event.target.matches('button')){
                //버튼이 아니야? 그럼 이벤트종료시켜
                return;
            }
            //이제 삭제 버튼이 눌리면 그 삭제 버튼이 포함된 tr을 날려야겠지?
            $list.removechild(e.target.parentNode.parentNode);
            //event.target.parentNode.parentNode.remove(); 써도됨.
            //td의 tr을 날려버리기위해 부모의 부모를 지목한 것이었다.
        }); 
           







    </script>

</body>
</html>